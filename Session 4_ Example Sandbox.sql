DROP DATABASE IF EXISTS SEANCE4_SANDBOX;
CREATE DATABASE SEANCE4_SANDBOX

USE SEANCE4_SANDBOX
GO

DROP TABLE IF EXISTS Professeur;
CREATE TABLE Professeur
(ProfID	INT		IDENTITY(1,1)	PRIMARY KEY, 
FirstName	NVARCHAR(100)	NOT NULL, 
LastName	NVARCHAR(100) 	NOT NULL);

SELECT * from dbo.Professeur

DROP TABLE IF EXISTS Logement;
CREATE TABLE Logement
( LogementID	INT		IDENTITY(1,1)	PRIMARY KEY, 
Address	NVARCHAR(500)	NOT NULL);


SELECT * from dbo.Logement


DROP TABLE IF EXISTS Locataire;
CREATE TABLE Locataire
( LocataireID	INT	IDENTITY(1,1)	PRIMARY KEY,
  FirstName	NVARCHAR(100)	NOT NULL, 
  LastName	NVARCHAR(100) 	NOT NULL, 
  LogementID	INT	FOREIGN KEY REFERENCES Logement(LogementID));

  SELECT * from dbo.Locataire


  DROP TABLE IF EXISTS Produits;
  CREATE TABLE Produits
  ( ProduitID	INT		IDENTITY(1,1)	PRIMARY KEY, 
  Nom	NVARCHAR(50)	NOT NULL, Type	NVARCHAR(50));

  
  SELECT * from dbo.Produits

  DROP TABLE IF EXISTS Commandes;
  CREATE TABLE Commandes
  ( CommandesID	INT	IDENTITY(1,1)	PRIMARY KEY, 
  DateCommande	DATE	NOT NULL, 
  SousTotal		MONEY	NOT NULL, 
  Taxes		MONEY	NOT NULL);

  
  SELECT * from dbo.Commandes

  DROP TABLE IF EXISTS CommandesProduits;
  CREATE TABLE CommandesProduits
  ( ComProdID		INT	IDENTITY(1,1)	PRIMARY KEY, 
  CommandeID	INT	 NOT NULL 	FOREIGN KEY REFERENCES Commandes(CommandesID), 
  ProduitID		INT	 NOT NULL 	FOREIGN KEY REFERENCES Produits(ProduitID), 
  Quantite		 INT 	 NOT NULL);



  SELECT * from dbo.CommandesProduits


  /* creating a table that references itself, e.g. manager and managed employee */
  DROP TABLE IF EXISTS Employe;
  CREATE TABLE Employe
  ( EmployeID		INT		IDENTITY(1,1)	PRIMARY KEY, 
  FirstName		NVARCHAR(50)	NOT NULL, 
  LastName		NVARCHAR(50)	NOT NULL, 
  Supervisor		INT	 	FOREIGN KEY REFERENCES Employe(EmployeID));

  SELECT * from dbo.Employe
